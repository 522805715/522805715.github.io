<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./move.css">
</head>

<body>


   

    <div class="box">
        <div class="bg"></div>
        <img src="https://www.17sucai.com/preview/1/2015-11-12/201509181601/img/effect-1/2.png" alt="" />
        <img src="https://www.17sucai.com/preview/1/2015-11-12/201509181601/img/effect-1/3.png" alt="" />
        <img src="https://www.17sucai.com/preview/1/2015-11-12/201509181601/img/effect-1/4.png" alt="" />
        <img src="https://www.17sucai.com/preview/1/2015-11-12/201509181601/img/effect-1/5.png" alt="" />
        <div class="shine"></div>
    </div>




    <script>

        var bg = document.querySelector(".bg");
        var shine = document.querySelector(".shine");

        var imgs = document.querySelectorAll("img");

        // console.log(window.innerWidth);
        // console.log(window.innerHeight);
        var w = window.innerWidth;
        var h = window.innerHeight;



        document.body.onmousemove = function (event) {
            // console.log(event.clientX, event.clientY);
            var x = event.clientX;
            var y = event.clientY;

        bg.style.transform = "rotateX("+(-2 / (h / 2)) * (h / 2 - y) +"deg)";
        bg.style.transform =  "rotateY("+(2 / (w / 2)) * (w / 2 - x) +"deg)";

        shine.style.transform ="rotateX(" +(-2 / (h / 2)) * (h / 2 - y) + "deg) rotateY(" +(2 / (w / 2)) * (w / 2 - x) +"deg)";


        imgs.forEach(function (item) {
          item.style.transform =
            "translate(" + (3 / (w / 2)) * (w / 2 - x) + "px, " + (3 / (h / 2)) * (h / 2 - y) + "px)";
        });

        var deg = (Math.atan((y - h / 2) / (x - w / 2)) * 180) / Math.PI;



        // 判断象限
        var cx = x - w / 2;
        var cy = y - h / 2;
        if (cx > 0) {
          // 第一二象限
          deg = deg + 90;
        } else {
          // 第三四象限
          deg = deg + 270;
        }

        shine.style.backgroundImage = "linear-gradient(" + deg + "deg, transparent, rgba(255, 255, 255, 0.3))";

        }

        var boxs = document.querySelectorAll(".box");




    </script>
</body>

</html>